
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Apunts i notes de coses que aprenc">
      
      
        <meta name="author" content="vokimon">
      
      
        <link rel="canonical" href="https://vokimon.github.io/apunts/computers/godot/shaders/">
      
      
        <link rel="prev" href="../ui/">
      
      
        <link rel="next" href="../particles/">
      
      
      <link rel="icon" href="../../../apunts.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Godot Shaders (es) - Apunts</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/figure.css">
    
      <link rel="stylesheet" href="../../../css/linkcard.css">
    
      <link rel="stylesheet" href="../../../css/videowrapper.css">
    
      <link rel="stylesheet" href="../../../None">
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#godot-shaders-es" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Apunts" class="md-header__button md-logo" aria-label="Apunts" data-md-component="logo">
      
  <img src="../../../apunts.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Apunts
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Godot Shaders (es)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/vokimon/apunts" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Apunts" class="md-nav__button md-logo" aria-label="Apunts" data-md-component="logo">
      
  <img src="../../../apunts.svg" alt="logo">

    </a>
    Apunts
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/vokimon/apunts" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    README
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Computers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Computers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    web
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1_1" id="__nav_2_1_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    css
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_1">
            <span class="md-nav__icon md-icon"></span>
            css
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../css-basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSS: Conceptes bsics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../css/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSS Recursos i Novetats
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../css-design-principles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSS: Principios de dise帽o
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../css-boxmodel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSS: El modelo de caja
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../css-normalflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSS Normal Flow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../css-flexbox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSS Flexbox
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../css-grid/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSS Grid
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../css-animations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSS: Animaciones
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../css-typography/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSS Typography
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../css-methodologies-architectures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSS: Metodolog铆as y arquitecturas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../css-frameworks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSS frameworks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_2" >
        
          
          <label class="md-nav__link" for="__nav_2_1_2" id="__nav_2_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    javascript
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_2">
            <span class="md-nav__icon md-icon"></span>
            javascript
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../jsecosystem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jsecosystem
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../jsonschema/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jsonschema
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react-formik/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    React formik
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../react/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    React / Redux
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mui-theming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MUI Theming
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../d3/00-d3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    D3.js
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    REST APIs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../svg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SVG
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    godot
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            godot
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../godot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Godot 4 (Game Engine)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../concepts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Godot Introduction (for Pythoners)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tiling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Godot Tiling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../physics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Godot Physics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Godot UI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Godot Shaders (es)
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Godot Shaders (es)
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#referencias" class="md-nav__link">
    <span class="md-ellipsis">
      Referencias
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#intro" class="md-nav__link">
    <span class="md-ellipsis">
      Intro
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Intro">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejecucion-paralela" class="md-nav__link">
    <span class="md-ellipsis">
      Ejecuci贸n paralela
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#historia" class="md-nav__link">
    <span class="md-ellipsis">
      Historia
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diferencias-entre-glsl-y-hlsl" class="md-nav__link">
    <span class="md-ellipsis">
      Diferencias entre GLSL y HLSL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#como-se-crean-los-shaders" class="md-nav__link">
    <span class="md-ellipsis">
      Como se crean los shaders
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipeline-principal" class="md-nav__link">
    <span class="md-ellipsis">
      Pipeline principal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sky-shaders" class="md-nav__link">
    <span class="md-ellipsis">
      Sky shaders
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input-and-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      Input and outputs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Storage attributes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uniforms" class="md-nav__link">
    <span class="md-ellipsis">
      Uniforms
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uniform-hints" class="md-nav__link">
    <span class="md-ellipsis">
      Uniform hints
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vecn-types" class="md-nav__link">
    <span class="md-ellipsis">
      vecN types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#errores-tipicos" class="md-nav__link">
    <span class="md-ellipsis">
      Errores t铆picos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spatial-shaders" class="md-nav__link">
    <span class="md-ellipsis">
      Spatial Shaders
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#glsl-vs-gdshader" class="md-nav__link">
    <span class="md-ellipsis">
      GLSL vs gdShader
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#global-uniforms" class="md-nav__link">
    <span class="md-ellipsis">
      Global uniforms
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#normalizacion-de-coordenadas-encuadre-y-relacion-de-aspecto" class="md-nav__link">
    <span class="md-ellipsis">
      Normalizaci贸n de coordenadas (Encuadre y relaci贸n de aspecto)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#distance-field" class="md-nav__link">
    <span class="md-ellipsis">
      Distance field
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scaling-field" class="md-nav__link">
    <span class="md-ellipsis">
      Scaling field
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deterministic-random-number-generators" class="md-nav__link">
    <span class="md-ellipsis">
      Deterministic random number generators
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#perlin-noise" class="md-nav__link">
    <span class="md-ellipsis">
      Perlin Noise
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simplex-noise" class="md-nav__link">
    <span class="md-ellipsis">
      Simplex noise
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fractal-noise-fbm" class="md-nav__link">
    <span class="md-ellipsis">
      Fractal noise (FBM)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#domain-warp" class="md-nav__link">
    <span class="md-ellipsis">
      Domain Warp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#central-diferences-method" class="md-nav__link">
    <span class="md-ellipsis">
      Central diferences method
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../particles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Godot: Particles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../addons.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    None
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lighting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lighting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../new-addons/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dependency system and non-gitable dependencies
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Android
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Android
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../android/android-glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Android Glossary [CA]
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../android/kotlin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kotlin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../android/kotlin-corutines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kotlin: Corutines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../android/viewmodel/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Android ViewModel
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../android/compose/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jetpack Compose
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Standards
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Standards
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ip6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IPv6
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../specs-pdf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Specs pdf
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../time/time/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Representando el tiempo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../unicode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Unicode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security problems
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cligrafics/00-imagemagick/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ImageMagick: Graficos con CLI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../computer-graphics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Computer graphics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cpp11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    New features of C++11 I should be starting to use:
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../deeplearning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deep learning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../timewarrior/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TimeWarrior
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../xpxplained/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    XP Explained (Extracto del libro)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../branching-patterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Branching Patterns
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../rust/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rust
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Math
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Math
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/math-fundation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Math Foundations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/math-writting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Writting Math
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/stats/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Statistics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/math-halfderivatives/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Half Derivatives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/math-quadraticformula-alternative/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quadratic Formula
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/math-wavelets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Wavelets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/math-3n1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Collatz Conjecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/math-binary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Binary math
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../math/math-geometric-algebra/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Geometric Algebra
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Music
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Music
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../music/music-harmony/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Harmony: Notes, Scales and Chords 
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../music/music-harmony-scales/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Harmony: Scales 
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../music/guitar-technics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T茅cnica de Guitarra 
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../music/guitar-fret-navigation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Navegaci贸n en el m谩stil
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../music/pentatonicas.txt" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pentatonicas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../music/songs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Songs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../music/ukelele/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ukelele
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../music/drums/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Drum line composition (for non drummers)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../music/online-resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Online resources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../music/piano/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Piano
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../music/song-ledzeppeling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Led Zeppeling songs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../music/song-linkinpark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linkin Park
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../music/songs-supertramp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supertramp
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Languages
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Languages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/consonantes-afi.png" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Phonetics Consonants
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/vowels.jpg" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Phonetics Vowels
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/arabic-alphabet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Arabic script
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/arabic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Arabic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/deutsch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deutsch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" >
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Japanese
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            Japanese
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/japan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Japanese
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/japan-char-sheet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Japones: tabla de caracteres
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/japan-grammar/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sentence structure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/japan-kanji/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kanji writing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    English
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            English
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/english-expresions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    English expresions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/english-old-pronoums/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    English old pronoums
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/english-prepositions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    English prepositions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/english-tenses/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    English tenses
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/english-body/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    English body
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/english-kitchen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kitchen english
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/english-modern-shortcuts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    English modern shortcuts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/english-phasal-verbs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Phrasal Verbs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/vocabulary-somenergia/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    English Vocabulary for SE enterviews
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/vocabulary-edibles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vocabulary edibles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/ruso-alphabet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ruso alphabet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/spanish/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Spanish
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../lang/stylistic-figures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Retorical figures
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    History
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            History
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../history/cristianismo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hist贸ria del cristianismo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../history/manipulation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T茅cnicas de manipulaci贸n meditica
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../history/2025-discoveries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Descubrimientos hist貌ricos de 2025
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Economics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Economics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../varios/economics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Economia
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../economics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Economia
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Psicology
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Psicology
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../varios/porque-creemos-en-mierdas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Porque creemos en mierdas
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    3D
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            3D
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../3d/3d-production-pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3D animation pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../3d/blender-materials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blender material
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../3d/blender-busto/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Esculpido de personajes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../3d/blender-comic-look/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Comic look en blender
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../3d/blender-dynamic-camera/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blender dynamic camera
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../3d/blender-geometry-nodes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blender: Geometry nodes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../3d/blender-modeling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Curso Blender
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../3d/blender-realistic-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blender: Temple
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../3d/blender-rigging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blender Rigging
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Laboral
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Laboral
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../laboral/comunicacio_de_crisi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Comunicacio de crisi
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../laboral/lideratges-autogestionat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lideratges autogestionat
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../laboral/reunionseficients/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reunions eficients
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../laboral/okrnnl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OKRs i NNL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../laboral/placomunicacio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pla de comuncaci贸
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Misc
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Misc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../varios/aditivos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Aditivos
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#referencias" class="md-nav__link">
    <span class="md-ellipsis">
      Referencias
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#intro" class="md-nav__link">
    <span class="md-ellipsis">
      Intro
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Intro">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejecucion-paralela" class="md-nav__link">
    <span class="md-ellipsis">
      Ejecuci贸n paralela
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#historia" class="md-nav__link">
    <span class="md-ellipsis">
      Historia
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diferencias-entre-glsl-y-hlsl" class="md-nav__link">
    <span class="md-ellipsis">
      Diferencias entre GLSL y HLSL
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#como-se-crean-los-shaders" class="md-nav__link">
    <span class="md-ellipsis">
      Como se crean los shaders
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pipeline-principal" class="md-nav__link">
    <span class="md-ellipsis">
      Pipeline principal
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sky-shaders" class="md-nav__link">
    <span class="md-ellipsis">
      Sky shaders
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input-and-outputs" class="md-nav__link">
    <span class="md-ellipsis">
      Input and outputs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Storage attributes
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uniforms" class="md-nav__link">
    <span class="md-ellipsis">
      Uniforms
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uniform-hints" class="md-nav__link">
    <span class="md-ellipsis">
      Uniform hints
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vecn-types" class="md-nav__link">
    <span class="md-ellipsis">
      vecN types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#errores-tipicos" class="md-nav__link">
    <span class="md-ellipsis">
      Errores t铆picos
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spatial-shaders" class="md-nav__link">
    <span class="md-ellipsis">
      Spatial Shaders
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#glsl-vs-gdshader" class="md-nav__link">
    <span class="md-ellipsis">
      GLSL vs gdShader
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#global-uniforms" class="md-nav__link">
    <span class="md-ellipsis">
      Global uniforms
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#normalizacion-de-coordenadas-encuadre-y-relacion-de-aspecto" class="md-nav__link">
    <span class="md-ellipsis">
      Normalizaci贸n de coordenadas (Encuadre y relaci贸n de aspecto)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#distance-field" class="md-nav__link">
    <span class="md-ellipsis">
      Distance field
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scaling-field" class="md-nav__link">
    <span class="md-ellipsis">
      Scaling field
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deterministic-random-number-generators" class="md-nav__link">
    <span class="md-ellipsis">
      Deterministic random number generators
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#perlin-noise" class="md-nav__link">
    <span class="md-ellipsis">
      Perlin Noise
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simplex-noise" class="md-nav__link">
    <span class="md-ellipsis">
      Simplex noise
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fractal-noise-fbm" class="md-nav__link">
    <span class="md-ellipsis">
      Fractal noise (FBM)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#domain-warp" class="md-nav__link">
    <span class="md-ellipsis">
      Domain Warp
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#central-diferences-method" class="md-nav__link">
    <span class="md-ellipsis">
      Central diferences method
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="godot-shaders-es">Godot Shaders (es)</h1>
<h2 id="referencias">Referencias</h2>
<ul>
<li><a href="https://thebookofshaders.com/">https://thebookofshaders.com/</a></li>
<li><a href="https://docs.godotengine.org/en/stable/tutorials/shaders/index.html_">Godot Shader Tutorial</a></li>
<li><a href="https://docs.godotengine.org/en/3.0/tutorials/shading/shading_language.html">Godot Shading language Documentation</a></li>
</ul>
<h2 id="intro">Intro</h2>
<h3 id="ejecucion-paralela">Ejecuci贸n paralela</h3>
<p>Un shader contiene c贸digo que se ejecuta en la targeta gr谩fica (GPU),
en contraste con el c贸digo que se ejecuta en la CPU.
Son 煤tiles porque permiten personalizar la cascada de renderizado,
beneficiandose de las capacidades de paralelizaci贸n de la targeta gr谩fica.</p>
<p>Por ejemplo, en vez de escribir un doble bucle para cambiar el valor
de cada pixel (para toda columna x, para toda fila y),
una rutina shader se ejecuta en paralelo para cada uno de los p铆xeles.</p>
<p>Hay varios lugares donde se pueden realizar estas paralelizaciones,
por ejemplo:
cuando emulamos la f铆sica de muchos elementos repetidos (part铆culas, por ejemplo para simular multitudes, fluidos...),
cuando procesamos la geometr铆a (para cada v茅rtice),
cuando la geometr铆a se rasteriza (para cada p铆xel o mejor dicho 'fragmento'),</p>
<p>Este procesado paralelo introduce ciertas limitaciones:
Como todas las unidades se ejecutan en paralelo,
cada una no puede acceder a lo que hacen las otras.
Adem谩s como no pueden mantener memoria interna
de un fotograma al siguente hay que recurrir a ciertos trucos para mantener la continuidad.</p>
<h3 id="historia">Historia</h3>
<p><a href="https://www.youtube.com/watch?v=9-DiGrnz8l8">GPU Programming State</a></p>
<ul>
<li>Graphical API's<ul>
<li>OpenGL (1992) Silicon Graphics<ul>
<li>Define un pipeline fijo en que se procesan datos de vertices</li>
<li>Standard manejado por un comit茅 inter-empresarial (OpenGl Architecture Review board)</li>
<li>2006 El comit茅 cede el control al consorcio Kronos Group.</li>
<li>Multiplataforma: cada plataforma provee drivers para ofrecer OpenGl como API</li>
<li>Solo cubre el pipeline, no cubre algunos aspectos contextuales: Creacion de ventanas, gestion de la entrada...</li>
<li>Lanzan algunas librerias extienden en esos aspectos: Glew, Glad, Glfw... con resultados limitados</li>
<li>Se abren dos puntos en el pipeline gr谩fico para incorporar<ul>
<li>Vertex shader: para recalcular la posicion final de cada v茅rtice de la geometria</li>
<li>Fragment shader: para recalcular el color final de cada pixel en la pantalla</li>
</ul>
</li>
<li>El lenguaje para programarlos es GLSL</li>
<li>El driver de la targeta gr谩fica compila GLSL a c贸digo m谩quina para la GPU concreta</li>
<li>OpenGL 4.3 (2012) introduce los Compute Shaders para hacer calculos generales (no gr谩ficos)</li>
<li>:-) Portable disponible</li>
<li>:-( No muy flexible (pipeline impl铆cito)</li>
<li>:-( Deprecado, ultima actualizacion 2017. No tiene raytracing y otras funcionalidades nuevas de aceleraci贸n.</li>
<li>Cuello de botella en el traspaso de datos de una memoria a la otra</li>
</ul>
</li>
<li>DirectX (1995) M$ (Platform exclusive<ul>
<li>Existing Windows apis joined</li>
<li>2015 Last major version Dx 12</li>
<li>Uses HLSL as shader programming language</li>
<li>:-( Windows specific</li>
<li>:-) Moder GPU features</li>
<li>:-) Better memory control</li>
<li>:-) Lower driver overhead</li>
<li>Similar pipeline than opengl</li>
</ul>
</li>
<li>Metal (2014) Apple<ul>
<li>:-( Platform specific</li>
<li>:-( MSL shading language</li>
<li>:-) Modern GPU features (single target)</li>
<li>:-) Very optimized</li>
</ul>
</li>
<li>Vulkan (2016) Khronos Group<ul>
<li>Explicit use of the GPU</li>
<li>:-) More powerfull</li>
<li>:-( More hard to use (low level)</li>
<li>Custom pipelines to be defined</li>
<li>SPIR-V (intermediate, byte code)</li>
</ul>
</li>
<li>WebGPU 2021 W3C (WebGL successor)<ul>
<li>WGSL Shading language</li>
<li>Abstracci贸n entre Vulkan y DirectX</li>
<li>No limitado a web apps</li>
<li>Control explicito del pipeline</li>
<li>Soporta compute shades</li>
</ul>
</li>
<li>Motores gr谩ficos<ul>
<li>Godot, Unity, Unreal...</li>
<li>Facilitan la programaci贸n<ul>
<li>lenguajes simplificados e integrados en el motor</li>
<li>aportando utilidades de conveniencia</li>
<li>abstrayendo la interaccion con el hw</li>
</ul>
</li>
<li>La mayoria ofrecen otra forma de programar shaders de forma visual conectando m贸dulos</li>
</ul>
</li>
</ul>
</li>
<li>APIs de proposito general<ul>
<li>CUDA 2007 nVidia<ul>
<li>Propietary (not opensource)</li>
<li>Shaders -&gt; Kernels (same concept but target oriented naming)</li>
<li>Hardware specific</li>
<li>Ok for scientific application when you have control of the hw it will run</li>
<li>Not ok to make aplications to run in general hardware</li>
</ul>
</li>
<li>OpenCL 2009 Apple -&gt; Khronos<ul>
<li>Alternativa portable a CUDA</li>
<li>Apple lo depreco en favor de Metal</li>
<li>Se puede ejecutar en CPU, GPU, FPGA...</li>
<li>2013 2.0, 2015 2.1 2017 2.2</li>
<li>2020 se declaran todas las features 2.x opcionales, 1.2 (2011) es la base</li>
</ul>
</li>
<li>SYCL (2014) khronos<ul>
<li>Codigo Integrado en el C++</li>
<li>Mas mantenible</li>
</ul>
</li>
<li>ROCm (2016) AMD<ul>
<li>Hardward specific</li>
<li>Open source</li>
</ul>
</li>
<li>oneAPI (2020) Intel<ul>
<li>Hardward specific</li>
<li>Open source</li>
</ul>
</li>
<li>Current trend: wrap GPU code under high level interfaces<ul>
<li>Triton: Decorated python code, jit compiled into GPU</li>
<li>Pytorch, TensorFlow: AI purpose oriented abstractions</li>
</ul>
</li>
<li>NPU: Neural processing units -&gt; Ok pero con que se programan??</li>
</ul>
</li>
</ul>
<h3 id="diferencias-entre-glsl-y-hlsl">Diferencias entre GLSL y HLSL</h3>
<p><a href="https://docs.vulkan.org/guide/latest/high_level_shader_language_comparison.html">https://docs.vulkan.org/guide/latest/high_level_shader_language_comparison.html</a></p>
<ul>
<li>GLSL: vec2, ivec3, mat3x4</li>
<li>HLSL: float2, int3, float3x4</li>
</ul>
<h3 id="como-se-crean-los-shaders">Como se crean los shaders</h3>
<p>La mayoria de plataformas permiten escribirlos en el lenguagi GLSL,
que seria muy parecido a C, pero no exactamente igual.</p>
<p>En Godot, a parte tenemos el lenguaje GDShader,
similar a GLSL pero facilitando ciertas cosas.
Y tambi茅n proporciona los visual shaders,
que es una forma gr谩fica de programarlos conectando m贸dulos.</p>
<p>En concreto Godot tiene shaders estandars parametrizados,
que no tienes porque ver, pero que Godot permite convertirlos
en c贸digo de shader para, a partir de ese estandard y personalizar lo que quieras.</p>
<p>Usemos el m茅todo que usemos, dicho programa se compila
y se sube a la targeta donde se ejecutaa para aquellos elementos que especifiquemos.</p>
<h3 id="pipeline-principal">Pipeline principal</h3>
<p>Los shaders se ejecutan para distintas unidades paralelizables
(part铆culas, v茅rtices, fragmentos, luces, entorno...)
y a veces, en diferentes momento del procesado.
Seg煤n a qu茅 se aplique hablaremos de un
particle shader, vertex shader, fragment shader....</p>
<p>El pipeline de renderizado, es algo m谩s complejo que lo que vamos a explicar ahora,
pero baste esto para entender los dos tipos m谩s comunes de shaders:
los de vertice y los de fragmento.
El pipeline ser铆a como sigue:</p>
<ul>
<li>
<p>La CPU sube o actualiza a la GPU las geometr铆as a renderizar
en forma de vertices y pol铆gonos (tri谩ngulos) formados con ellos.</p>
</li>
<li>
<p>En ese punto se ejecutan los <strong>vertex shaders</strong>.
Para cada vertice de la geometr铆a puede modificar tanto su posici贸n
como otros atributos: normales, coordenadas de textura, color de albedo,
componente met谩lico, reflectividad...</p>
</li>
<li>
<p>Una vez ejecutados los vertex shaders, la GPU <strong>rasteriza</strong>
los pol铆gonos, es decir, los proyecta en la pantalla como p铆xeles,
e interpola las propiedades de cada pixel a partir de las
propiedades de los v茅rtices que definen el pol铆gono.
El resultado no es solo un pixel con una posici贸n y el color que pintamos,
sino que es lo que llamamos <strong>fragmentos</strong>, que ademas tiene
un monton de las otras propiedades interpoladas.</p>
</li>
<li>
<p>Despu茅s de este primer rasterizado, se ejecutan los <strong>fragment shaders</strong>,
que se ejecutan para cada fragmento/p铆xel.
Obtienen todas esas propiedades ya interpoladas que podemos
consultar y cambiarlas.</p>
</li>
</ul>
<p>Los vertex y fragment shaders son los m谩s comunes.
Pero hay mas tipos de shaders.
En glsl, el tipo de shader se indica con un enum cuando se carga en la targeta,
y los ficheros se suelen guardar con una extension que
sugiere el tipo <code>.frag</code>, <code>.vert</code>...
pero como se carga como texto en memoria,
es solo una convenci贸n.
El punto de entrada es la funci贸n <code>main</code>.</p>
<p>En Godot, se asocia un fichero <code>.gdshader</code>
con los shaders que van vinculados a un cierto nodo.
Cuando un nodo tiene un atributo de tipo material,
podemos asignarle un material de tipo gdshader (o visual shader)
y asignar un fichero <code>.gdshader</code>.
En estos ficheros pueden ir mas de un tipo de shader,
por ejemplo una malla 3D puede tener un gdshader con
un vertex y un fragment shader, identificados por
el nombre de la funci贸n (no es un <code>main</code>).</p>
<ul>
<li><strong>Spacial shader:</strong><ul>
<li>Material of any 3D object</li>
<li>Directive: <code>shader_type spatial;</code></li>
<li>Entry point gdshader: <code>vertex()</code>, <code>fragment()</code>, <code>ligth()</code></li>
<li>Extension glsl: <code>.vert</code></li>
</ul>
</li>
<li><strong>CanvasItem shaders:</strong><ul>
<li>Material of any 2D/Canvas item</li>
<li>Directive: <code>shader_type canvas_item;</code></li>
<li>Entry points: <code>vertex()</code>, <code>fragment()</code>, <code>ligth()</code></li>
</ul>
</li>
<li><strong>Particle shaders:</strong><ul>
<li>Directive: <code>shader_type particles</code></li>
<li>Used to compute the particle properties when they are generated they are computed before the pipeline</li>
<li>Entry points: <code>start()</code>, <code>process()</code></li>
</ul>
</li>
<li><strong>Sky shaders:</strong>s<ul>
<li>Directive: <code>shader_type sky;</code></li>
<li>Entry points: <code>sky()</code></li>
</ul>
</li>
<li><strong>Fog shaders</strong> <ul>
<li>Directive: <code>shader_type fog;</code></li>
<li>Entry points: <code>fog()</code></li>
</ul>
</li>
<li><strong>Compute shaders:</strong><ul>
<li>glsl</li>
<li>Directive: <code>#[compute]</code></li>
</ul>
</li>
<li>
<p><strong>Compose shader:</strong></p>
<ul>
<li>glsl</li>
</ul>
</li>
<li>
<p><code>vertex()</code>: runs over all the vertices in the mesh and sets their positions and some other per-vertex variables</p>
</li>
<li><code>fragment()</code> runs for every pixel covered by the mesh (similar parameters than the vertex but interpolated)</li>
<li><code>light()</code> for every pixel, for every light</li>
<li><code>start()</code> for every particle at its begining</li>
<li><code>process()</code> for every particle for each frame</li>
<li><code>fog()</code> for every 'fogxel' volumetric buffer</li>
<li>`sky()' for every eye ray reaching infinite</li>
<li>...</li>
</ul>
<p>Los shaders se aplican a los nodos como materiales.
Entre los tipos de materiales que podemos asignar
estan los gdshaders, los visual shaders Y el standar material.</p>
<p>Los standard material es un shader t铆pico con un monton de par谩metros
que podemos manejar.
Por ejemplo, el fragment shader standard aplica un sombreado realista:
albedo, rugosidad, normales, metalicidad, anisotropia, texturas...
Si queremos modificarlo hay una opcion en el material para convertirlo
en shader y poderlo editar o examinar.</p>
<h3 id="sky-shaders">Sky shaders</h3>
<ul>
<li>Applied to WorldEnvironment material attribute.</li>
<li>Set the Background/Mode to Sky</li>
<li>Set the Sky/Sky Material.</li>
<li><code>shader_type sky</code></li>
<li>Entry point <code>sky()</code></li>
<li>
<p>Uniforms:</p>
<ul>
<li>EYEDIR: vec3 +z up -z down</li>
<li>LIGHT_ENERGY (from environment parameter)</li>
<li>UV: para proyectar environ maps textures</li>
<li>COLOR (out)</li>
</ul>
</li>
<li>
<p><a href="">Sky shaders in Godot</a></p>
</li>
<li><a href="https://www.youtube.com/watch?v=_EeVDI-PVRw">How to model realistic sky in Godot</a></li>
</ul>
<h2 id="input-and-outputs">Input and outputs</h2>
<p>Un shader tiene entradas y salidas.
Dependiendo del framework se accederan como
parametros de la funci贸n o como globales.
Eso si, las globales se tienen que definir en el fichero
para que la targeta gr谩fica sepa que datos tiene que mover.</p>
<ul>
<li><code>uniform</code>: values assigned from host code, accessible by all the shader types.</li>
<li><code>attribute</code>: assigned from vertexes attributes, only available in vertex shaders</li>
<li><code>varying</code>: assigned from vertex attributes, modifiable by vertex shaders, available interpolated in fragment shaders</li>
</ul>
<p>The pipeline provides the shader a set of input data
and gives the option to set a set of output data.
These are accessed as they were global variables.
Many input variables are in fact global,
but most input and all outputs are local
to the processed element: a vertex, a fragment, a particle...</p>
<p>In glsl those variables are prefixed <code>gl_</code>.
In gdshader those variables are <code>UPPERCASED</code>.</p>
<h2 id="storage-attributes">Storage attributes</h2>
<h2 id="uniforms">Uniforms</h2>
<p>Uniforms are data that is injected by the CPU into the GPU:</p>
<ul>
<li>Floating point parameters</li>
<li>Colors</li>
<li>Textures</li>
<li>...</li>
</ul>
<h2 id="uniform-hints">Uniform hints</h2>
<h2 id="vecn-types">vecN types</h2>
<p>Constructors of <code>vec2</code>, <code>vec3</code> and <code>vec4</code>
overloaded to receive either scalar or lesser vecs as parameters.
The sum of dimensions, should match.</p>
<div class="highlight"><pre><span></span><code>vec4(vec2(1.0,2.0), 3.0, 4.0) == vec4(1.0, 2.0, 3.0, 4.0) == vec4(1.0, vec3(2.0, 3.0, 4.0))
</code></pre></div>
<p>Single scalar propagates to all components.</p>
<div class="highlight"><pre><span></span><code>vec4(5.0) == vec(5,5,5,5)
</code></pre></div>
<p>Accessors (read and write):</p>
<ul>
<li><code>[0] [1] [2]...</code></li>
<li><code>.x .y .z .w</code> for vectors</li>
<li><code>.r .g .b .a</code> for colors</li>
<li><code>.s .t .p .q</code> for texture coordinates</li>
<li>
<p><code>.zysw</code> vec4 of those components (swizzle notation)</p>
<p>v4.xyzw = v4.zxyw; // component swap</p>
</li>
</ul>
<p>They are float vectors but you can use prefixes to have other base types:
<code>bvecN</code> (bool), <code>ivecN</code> (int)</p>
<p>Operations between vectors of the same component number is performed component-wise.</p>
<p>vec2(4,18) / vec2(2,3) == vec2(</p>
<h2 id="errores-tipicos">Errores t铆picos</h2>
<ul>
<li>Punto y coma, you pythoner</li>
<li>Using integer constants instead of floats, you Cer.</li>
<li>Target vector dimensions number missmatch with assigned values.</li>
</ul>
<h2 id="functions">Functions</h2>
<p>Built-in functions:</p>
<ul>
<li><code>step(threshold, value)</code> 0 if lesser 1 if greater</li>
<li>`smoothstep(start, stop, value)</li>
<li><code>pow(exp)</code></li>
<li><code>ceil(value)</code> greater integer</li>
<li><code>floor(value)</code> lesser integer</li>
<li><code>fract(value)</code> value - floor(value)</li>
<li><code>sign(value)</code> +1 -1 (or 0?)</li>
<li><code>abs(value)</code></li>
<li><code>clamp(value, max, min)</code></li>
<li><code>min(value, value)</code></li>
<li><code>max(value, value)</code></li>
</ul>
<h2 id="spatial-shaders">Spatial Shaders</h2>
<p><a href="https://docs.godotengine.org/en/stable/tutorials/shaders/shader_reference/spatial_shader.html">https://docs.godotengine.org/en/stable/tutorials/shaders/shader_reference/spatial_shader.html</a></p>
<p>Spatial Shader for 3D materials</p>
<ul>
<li>Fragments are not called Pixels because they have lots of more information:<ul>
<li>Color</li>
<li>Screen location</li>
<li>UV coordinates</li>
<li>Normals</li>
<li>Light information</li>
<li>....</li>
</ul>
</li>
</ul>
<p>In Godot, we can use either a shader node editor (<code>VisualShader</code>) or shader code (<code>Shader</code>).</p>
<p>Create a resource, choose either <code>Shader</code> or <code>VisualShader</code>, drag the file as material of the target object.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>By creating a standard material you can modify it and later save it as an equivalent shader.</p>
</div>
<p>For VisualShader, a node editor will open with an output node.
Input nodes have to be added by hand.
Change the shader type (vertex, fragment...) with the dropdown selector.</p>
<p>Exponer valores con <code>uniform</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>uniform float myparameter = 3
</code></pre></div>
<h2 id="glsl-vs-gdshader">GLSL vs gdShader</h2>
<ul>
<li>joined programs:<ul>
<li>GLSL have several programs (vertex, fragment) with a main()</li>
<li>gdShader have a single program with several functions vertex() fragment()</li>
</ul>
</li>
<li></li>
</ul>
<h2 id="global-uniforms">Global uniforms</h2>
<p>https://godotengine.org/article/godot-40-gets-global-and-instance-shader-uniforms/</p>
<p>Uniforms declared globals are setup in a game level configuration (
Any shader accessing them will access the same object.
They save having to set the uniforms in every shader in every object.</p>
<p>Examples of usage:</p>
<ul>
<li>Wind/turbulence texture: provide wind vector for the whole scene, so that shaders for particles or materials affected by wind can access it.</li>
<li>User presence: a textures telling how far the user is, for example to bend vegetation.</li>
<li>Interaction status, use a texture to say whether the grass has been cut, burned...</li>
<li>World status: For example it it raining, so that materials can change their properties.</li>
</ul>
<p>Instance uniforms are uniforms that do not live on the material but in the node.
(CanvasItem for 2D, GeometryInstance3D for 3D).
Mostly this is practical: Instead of navigating through the properties to look for the material you can change it directly in the node.
But if a single node contains many shaders these uniforms are shared by all of them.</p>
<p>It has limitations though due to hardware:</p>
<ul>
<li>they must be vector or scalars, not textures</li>
<li>You can only have 16 per instance</li>
<li>they are allocated by position and they should match<ul>
<li>You can overcome that by specifying which index you refer
    <code>instance uniform vec4 hello : instance_index(5);</code></li>
</ul>
</li>
</ul>
<h2 id="normalizacion-de-coordenadas-encuadre-y-relacion-de-aspecto">Normalizaci贸n de coordenadas (Encuadre y relaci贸n de aspecto)</h2>
<p>Un shader recibe las coordenadas de cada fragmento (<code>gl_FragmentCoords</code>)
en unidades de pixel, con el [0,0] en la esquina inferior izquierda.
Normalmente la resolucion concreta del dispositivo es algo de lo que nos queremos abstraer.
Lo que queremos es encuadrar nuestro objeto en el espacio disponible.
En ese caso, es m谩s sencillo trabajar con coordenadas relativas al tama帽o total de la pantalla.</p>
<p>La siguiente funci贸n convierte coordenadas de pantalla al int茅rvalo [0,1].</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kt">vec2</span><span class="w"> </span><span class="n">normalize</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="kt">vec2</span><span class="w"> </span><span class="n">pixel_coords</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">pixel_coords</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">u_resolution</span><span class="p">.</span><span class="n">xy</span><span class="p">;</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="p">}</span>
</code></pre></div>
<p>Si queremos el origen en el centro y las coordenadas en el int茅rvalo [-1,+1] entonces:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kt">vec2</span><span class="w"> </span><span class="n">normalize</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="kt">vec2</span><span class="w"> </span><span class="n">pixel_coords</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">pixel_coords</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">u_resolution</span><span class="p">.</span><span class="n">xy</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">2.0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1.0</span><span class="p">;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="p">}</span>
</code></pre></div>
<p>Sin embargo, la relaci贸n de aspecto de la pantalla distorsiona las formas.
Por ejemplo, si tenemos una pantalla apaisada, alargar谩 en horizontal las formas.</p>
<p>La siguiente funci贸n encaja el intervalo [-1, +1] verticalmente,
pero horizontalmente, en vez de ajustar lo centra,
usando la misma escala que para las y manteniendo as铆 las proporciones:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kt">vec2</span><span class="w"> </span><span class="n">normalize</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="kt">vec2</span><span class="w"> </span><span class="n">pixel_coords</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="kt">vec2</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pixel_coords</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">u_resolution</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="n">result</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">x</span><span class="o">-</span><span class="n">result</span><span class="p">.</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="n">u_resolution</span><span class="p">.</span><span class="n">y</span><span class="o">/</span><span class="mf">2.0</span><span class="p">;</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="o">*</span><span class="mf">2.0</span><span class="o">/</span><span class="mf">1.0</span><span class="p">;</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="p">}</span>
</code></pre></div>
<p>Si queremos que tambi茅n pase lo mismo en pantallas verticales,
la dimensi贸n a centrar es la y.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kt">vec2</span><span class="w"> </span><span class="n">normalize</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="kt">vec2</span><span class="w"> </span><span class="n">pos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">  </span><span class="kt">vec2</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pos</span><span class="p">;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">u_resolution</span><span class="p">.</span><span class="n">x</span><span class="o">-</span><span class="n">u_resolution</span><span class="p">.</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="mf">2.0</span><span class="p">;</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">  </span><span class="n">result</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="o">+</span><span class="n">offset</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">offset</span><span class="p">;</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">  </span><span class="n">result</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">offset</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">offset</span><span class="p">;</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="n">min</span><span class="p">(</span><span class="n">u_resolution</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="w"> </span><span class="n">u_resolution</span><span class="p">.</span><span class="n">x</span><span class="p">);</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="o">*</span><span class="mf">2.0</span><span class="w"> </span><span class="o">-</span><span class="mf">1.0</span><span class="p">;</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="p">}</span>
</code></pre></div>
<p>Minimizando las operaciones:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kt">vec2</span><span class="w"> </span><span class="n">normalize</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="kt">vec2</span><span class="w"> </span><span class="n">pos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">min_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">min</span><span class="p">(</span><span class="n">u_resolution</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">u_resolution</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="o">/</span><span class="n">min_size</span><span class="p">;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u_resolution</span><span class="p">.</span><span class="n">y</span><span class="o">-</span><span class="n">u_resolution</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kt">vec2</span><span class="p">(</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="n">scale</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">2.0</span><span class="o">*</span><span class="n">pos</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">offset</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">offset</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1.0</span><span class="p">,</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">    </span><span class="n">scale</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">2.0</span><span class="o">*</span><span class="n">pos</span><span class="p">.</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">step</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="o">+</span><span class="n">offset</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">offset</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1.0</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">  </span><span class="p">);</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="p">}</span>
</code></pre></div>
<p>Tambi茅n podemos generar una matriz de transformaci贸n af铆n.
Problema: No se como sacar la matriz de la funci贸n
para no recalcularla en cada mapeo,
y tampoco s茅 que si son m谩s r谩pidas son las matrices
que las operaciones individuales.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kt">vec2</span><span class="w"> </span><span class="n">normalize</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="kt">vec2</span><span class="w"> </span><span class="n">pos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">min_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">min</span><span class="p">(</span><span class="n">u_resolution</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">u_resolution</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">scale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.0</span><span class="o">/</span><span class="n">min_size</span><span class="p">;</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">u_resolution</span><span class="p">.</span><span class="n">y</span><span class="o">-</span><span class="n">u_resolution</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="kt">vec3</span><span class="p">(</span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kt">mat3</span><span class="p">(</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">    </span><span class="mf">2.0</span><span class="o">*</span><span class="n">scale</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="o">+</span><span class="n">step</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">offset</span><span class="p">)</span><span class="o">*</span><span class="n">offset</span><span class="o">*</span><span class="n">scale</span><span class="w"> </span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">    </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">2.0</span><span class="o">*</span><span class="n">scale</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">step</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="o">+</span><span class="n">offset</span><span class="p">)</span><span class="o">*</span><span class="n">offset</span><span class="o">*</span><span class="n">scale</span><span class="w"> </span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">    </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">  </span><span class="p">)).</span><span class="n">xy</span><span class="p">;</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="p">}</span>
</code></pre></div>
<h2 id="distance-field">Distance field</h2>
<p>One difference between classical computer shape drawing
and shaders is that the flow control is inverted.
In classical computer drawing, you pick the pixels belonging to a shape,
say a line segment or a polygon, and change its color.
You only change the pixels related to a given shape.
In shaders, you get a pixel, every pixel in the screen,
and you have to determine whether it belongs to the shape or not,
in order to change its color.</p>
<p>Because of that, distance field functions are very useful.
A distance field function returns how far a point is from a certain feature.
For example the perimeter of a circle, a shape or a font type.
Usually negative for inner points to discriminate them.
Given such a function you can use it.</p>
<p>For example, the distance function of a circle
of radius R centered in <code>c=ve2(cx, cy)</code> will have a distance function:
<code>distance(pixel, c)-R</code>.</p>
<p>驴Qu茅 podemos hacer con los distance fields?</p>
<ul>
<li>Dando color a los pixel que tengan distancia negativa rellena la figura<ul>
<li><code>step(0.0, my_step(point))</code></li>
</ul>
</li>
<li>Dandoselo a los pixeles alrededor de cero, con cierta tolerancia, pintaremos el per铆metro.<ul>
<li>Podemos marcar el borde por fuera, por dentro o por los dos lados escogiendo donde aplicamos la tolerancia.</li>
<li><code>step(0.01, distance_field(pixel)) - step(-0.01, distance_field(pixel))</code></li>
</ul>
</li>
<li>Podemos obtener antialiasing aplicando <code>smooth_step</code> en vez de <code>step</code> en las funciones anteriores.</li>
<li>Podemos rotar/escalar/trasladar/sesgar una figura transformando las coordenadas de los pixeles antes de calcular la distancia.</li>
<li>Mezclando dos funciones de distancia, podemos conseguir un <a href="https://thebookofshaders.com/edit.php?log=160414040957">morphing entre figuras</a></li>
<li>Podemos fusionar dos figuras (blob merge) </li>
<li>Podemos tener una textura con las fuentes, codificadas como distance map, nos permite escribir las fuentes escaladas y rotadas, reduciendo el aliasing.</li>
</ul>
<h2 id="scaling-field">Scaling field</h2>
<p>This is my own variation of the distance field.
Is a function that determines to which scale of a shape a given point its inside the shape.
This can be used for scaling shapes, concentrical shapes, bordering...
The shape is preserved but distance to lines is not uniform, but depends on the angle to the center.</p>
<h2 id="deterministic-random-number-generators">Deterministic random number generators</h2>
<p>驴Porqu茅 necesitamos un generador aleatorio determinista?
Principalmente porque los shaders se ejecutan cada frame,
si introducimos elementos aleatorios y estos cambian en cada frame
perderiamos la continuidad temporal.</p>
<p>Una forma de tenerlos ser铆a pregenerar los n煤meros aleatorios
en una textura y obtenerlos de la textura.
A menudo es suficiente pero:</p>
<ul>
<li>Limita la variabilidad al tama帽o de la textura</li>
<li>Ocupa memoria</li>
</ul>
<p>La otra opci贸n es una funci贸n dado un valor de entrada
entregue el mismo valor de salida pero que dicho valor
genere un campo parecido al ruido blanco:
Sin frequencias predominantes m谩s alla de la de sampleo,
que rellene de forma uniforme el intervalo de valores posibles
y sin caracter铆sticas direccionales detectables.</p>
<p>Una idea seria basarnos en la parte fraccional de una funci贸n
que devuelva valores mayor que uno.</p>
<p><a href="https://www.shadertoy.com/view/ltB3zD">Goden Noise</a> (based on the golden ratio phi and tangent function).</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kt">float</span><span class="w"> </span><span class="n">PHI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1.61803398874989484820459</span><span class="p">;</span><span class="w">  </span><span class="c1">// 桅 = Golden Ratio   </span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="kt">float</span><span class="w"> </span><span class="n">gold_noise</span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="kt">vec2</span><span class="w"> </span><span class="n">xy</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">seed</span><span class="p">){</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="n">fract</span><span class="p">(</span><span class="n">tan</span><span class="p">(</span><span class="n">distance</span><span class="p">(</span><span class="n">xy</span><span class="o">*</span><span class="n">PHI</span><span class="p">,</span><span class="w"> </span><span class="n">xy</span><span class="p">)</span><span class="o">*</span><span class="n">seed</span><span class="p">)</span><span class="o">*</span><span class="n">xy</span><span class="p">.</span><span class="n">x</span><span class="p">);</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="p">}</span>
</code></pre></div>
Tried and Golden noise is quite shitty.
Only some zones of the field is really noise like.
Most of the field has directional patterns.
I could have made something wrong, though.</p>
<p>El que usan en los ejemplos del libro:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kt">float</span><span class="w"> </span><span class="n">random</span><span class="w"> </span><span class="p">(</span><span class="kt">vec2</span><span class="w"> </span><span class="n">st</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">fract</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">        </span><span class="n">dot</span><span class="p">(</span><span class="n">st</span><span class="p">.</span><span class="n">xy</span><span class="p">,</span><span class="w"> </span><span class="kt">vec2</span><span class="p">(</span><span class="mf">12.9898</span><span class="p">,</span><span class="w"> </span><span class="mf">78.233</span><span class="p">))</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span><span class="p">)</span><span class="o">*</span><span class="mf">43758.5453123</span><span class="p">);</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="p">}</span>
</code></pre></div>
<p>Sin embargo las funciones trigonom茅tricas son lentas
y cuando se van a valores altos pierden precision
y comienzan a generar patrones direccionales (por el redondeado?)</p>
<p>Por eso se desarrollaron en 2019 funciones de hash
para obtener resultados similares que por ser
operaciones simples son m谩s r谩pidas y no tuvieran esos artefactos.</p>
<ul>
<li><a href="https://jcgt.org/published/0009/03/02/">Hash based functions (paper)</a></li>
<li><a href="https://www.shadertoy.com/view/4djSRW">Implementacoin en ShaderToy</a></li>
</ul>
<p>Normalmente los generadores tienen indican con dos numeros
dimensi贸n de entrada y de salida.
Por ejemplo los ejemplos mapean un vector 2D a un escalar,
serian 2-&gt;1.
Si quisieramos uno que, a partir de un punto 2D nos retornara un color
necesitariamos un 2-&gt;3.
El hash propuesto para 2-&gt;1 es:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kt">float</span><span class="w"> </span><span class="n">hash12</span><span class="p">(</span><span class="kt">vec2</span><span class="w"> </span><span class="n">p</span><span class="p">)</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="p">{</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">p3</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">fract</span><span class="p">(</span><span class="kt">vec3</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">xyx</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">.1031</span><span class="p">);</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">    </span><span class="n">p3</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">dot</span><span class="p">(</span><span class="n">p3</span><span class="p">,</span><span class="w"> </span><span class="n">p3</span><span class="p">.</span><span class="n">yzx</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">33.33</span><span class="p">);</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">fract</span><span class="p">((</span><span class="n">p3</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">p3</span><span class="p">.</span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p3</span><span class="p">.</span><span class="n">z</span><span class="p">);</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="p">}</span>
</code></pre></div>
<h2 id="perlin-noise">Perlin Noise</h2>
<p>https://en.wikipedia.org/wiki/Perlin_noise</p>
<p>Los procesos naturales no son tan aleatorios como el ruido blanco.
La aletoriedad aparece dentro de una cierta continuidad.
El Perlin Noise emula esto muestreando la funci贸n aleatoria
solo en ciertos puntos que coinciden con los nodos de una rejilla.
El resultado de la funci贸n aleatoria se toma como gradiente
y se interpola los valores intermedios respetando dicho gradiente.</p>
<p>En 1D, el random controlaria la pendiente.
En 2D, controlaria un vector de pendiente.</p>
<p>Seg煤n la continuidad que se pretenda,
usaremos una interpolaci贸n de Hermite de diferente grado.
Para interpolar se usa por ejemplo Hermite de 3er grado
<code>t*t*(3-2*t)</code>
o si se quiere continuidad C2 usar Hermite de 5o grado
<code>t*t*t(10+t*(-15.0 + 6.0*t)</code></p>
<p>Por ejemplo, en 2D,</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kt">vec2</span><span class="w"> </span><span class="n">hash22</span><span class="p">(</span><span class="kt">vec2</span><span class="w"> </span><span class="n">p</span><span class="p">)</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="p">{</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="kt">vec3</span><span class="w"> </span><span class="n">p3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fract</span><span class="p">(</span><span class="kt">vec3</span><span class="p">(</span><span class="n">p</span><span class="p">.</span><span class="n">xyx</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kt">vec3</span><span class="p">(</span><span class="mf">.1031</span><span class="p">,</span><span class="w"> </span><span class="mf">.1030</span><span class="p">,</span><span class="w"> </span><span class="mf">.0973</span><span class="p">));</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="n">p3</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">dot</span><span class="p">(</span><span class="n">p3</span><span class="p">,</span><span class="w"> </span><span class="n">p3</span><span class="p">.</span><span class="n">yzx</span><span class="o">+</span><span class="mf">33.33</span><span class="p">);</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">fract</span><span class="p">((</span><span class="n">p3</span><span class="p">.</span><span class="n">xx</span><span class="o">+</span><span class="n">p3</span><span class="p">.</span><span class="n">yz</span><span class="p">)</span><span class="o">*</span><span class="n">p3</span><span class="p">.</span><span class="n">zy</span><span class="p">);</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="p">}</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="kt">float</span><span class="w"> </span><span class="n">interp</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">    </span><span class="c1">// 3th grade hermite C1 continuity</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">t</span><span class="o">*</span><span class="n">t</span><span class="o">*</span><span class="p">(</span><span class="mf">3.0</span><span class="w"> </span><span class="o">-</span><span class="mf">2.0</span><span class="o">*</span><span class="n">t</span><span class="p">);</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">    </span><span class="c1">// 5th grade hermite C2 continuity</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">t</span><span class="o">*</span><span class="n">t</span><span class="o">*</span><span class="n">t</span><span class="o">*</span><span class="p">(</span><span class="mf">10.0</span><span class="o">+</span><span class="n">t</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mf">15.0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">t</span><span class="o">*</span><span class="mf">6.0</span><span class="p">));</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="p">}</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="kt">float</span><span class="w"> </span><span class="n">perlin_noise_2d</span><span class="p">(</span><span class="kt">vec2</span><span class="w"> </span><span class="n">xy</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">                                                     </span>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="w">    </span><span class="c1">// Determinamos el quad i,j en el que estamos (usando floor)                     </span>
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="w">    </span><span class="kt">vec2</span><span class="w"> </span><span class="n">ij</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">floor</span><span class="p">(</span><span class="n">xy</span><span class="p">);</span><span class="w">                                                             </span>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="w">    </span><span class="c1">// Determinamos la posici贸n relativa dentro del quad (usando fract)              </span>
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="w">    </span><span class="kt">vec2</span><span class="w"> </span><span class="n">uv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fract</span><span class="p">(</span><span class="n">xy</span><span class="p">);</span>
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a>
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="w">    </span><span class="c1">// Sampleamos hash 2-&gt;2 para las esquinas del cuadro</span>
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a><span class="w">    </span><span class="kt">vec2</span><span class="w"> </span><span class="n">g00</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hash22</span><span class="p">(</span><span class="n">ij</span><span class="p">);</span>
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a><span class="w">    </span><span class="kt">vec2</span><span class="w"> </span><span class="n">g01</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hash22</span><span class="p">(</span><span class="n">ij</span><span class="o">+</span><span class="kt">vec2</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a><span class="w">    </span><span class="kt">vec2</span><span class="w"> </span><span class="n">g10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hash22</span><span class="p">(</span><span class="n">ij</span><span class="o">+</span><span class="kt">vec2</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">));</span>
<a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a><span class="w">    </span><span class="kt">vec2</span><span class="w"> </span><span class="n">g11</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hash22</span><span class="p">(</span><span class="n">ij</span><span class="o">+</span><span class="kt">vec2</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a>
<a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a><span class="w">    </span><span class="c1">// Producto escalar entre las muestras de las esquinas</span>
<a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a><span class="w">    </span><span class="c1">// y el vector de las esquinas al pixel a calcular</span>
<a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a><span class="w">    </span><span class="c1">// Esto no se pa que</span>
<a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">n00</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dot</span><span class="p">(</span><span class="n">g00</span><span class="p">,</span><span class="w"> </span><span class="n">uv</span><span class="p">);</span>
<a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">n01</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dot</span><span class="p">(</span><span class="n">g01</span><span class="p">,</span><span class="w"> </span><span class="n">uv</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="kt">vec2</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">));</span>
<a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">n10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dot</span><span class="p">(</span><span class="n">g10</span><span class="p">,</span><span class="w"> </span><span class="n">uv</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="kt">vec2</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">));</span>
<a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">n11</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dot</span><span class="p">(</span><span class="n">g11</span><span class="p">,</span><span class="w"> </span><span class="n">uv</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
<a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a>
<a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a><span class="w">    </span><span class="c1">// Interpolamos interp(t) sera la hermite que escojamos</span>
<a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">fu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">interp</span><span class="p">(</span><span class="n">uv</span><span class="p">.</span><span class="n">x</span><span class="p">);</span>
<a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">fv</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">interp</span><span class="p">(</span><span class="n">uv</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
<a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">nx0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n00</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">1.0</span><span class="o">-</span><span class="n">fu</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n10</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fu</span><span class="p">;</span>
<a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">nx1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n01</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">1.0</span><span class="o">-</span><span class="n">fu</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">n11</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fu</span><span class="p">;</span>
<a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a><span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">nxy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nx0</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">1.0</span><span class="o">-</span><span class="n">fv</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">nx1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fv</span><span class="p">;</span>
<a id="__codelineno-10-43" name="__codelineno-10-43" href="#__codelineno-10-43"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">nxy</span><span class="o">+</span><span class="mf">0.5</span><span class="p">;</span>
<a id="__codelineno-10-44" name="__codelineno-10-44" href="#__codelineno-10-44"></a><span class="p">}</span>
</code></pre></div>
<h2 id="simplex-noise">Simplex noise</h2>
<p>https://en.wikipedia.org/wiki/Simplex_noise</p>
<p>Ruido Simplex es un algoritmo, tambi茅n desarrollado por Perlin,
que da mejores resultados, y es computacionalmente mejor.
Hace menos operaciones por vertice, haciendo sumas en vez de interpolaciones
y escala mejor con la dimension pasando de considerar
O(2^N) vertices por pixel a O(N^2) vertices por pixel
donde N es la dimensi贸n.</p>
<p>Un simplex es la forma m谩s sencilla en una determinada dimensi贸n.
La rejilla ahora no esta formada por cuadrados, cubos, hipercubos...
sin贸 por triangulos, tetraedros, hipertetraedros...
Esto reduce los puntos a considerar cuando interpolamos un punto.</p>
<p>Podemos definir los triangulos partiendo los cuadrados de la rejilla de Perlin,
definiendo en que triangulo estamos con la condicion <code>u &gt; v</code>.
Pero esos triangulos no son regulares.</p>
<p>Primero se sesga la rejilla cuadrada para que los puntos generen
simplex regulares.</p>
<p>TODO: Algorithm</p>
<h2 id="fractal-noise-fbm">Fractal noise (FBM)</h2>
<p><strong>Fractal Brownian Motion / Fractal noise:</strong>
Dada una funcion de ruido deterministico, como el Perlin Noise,
el ruido fractal se genera superponiendo varias versiones
con mayor detalle/frecuencia (menor distancia de sampleo)
y menor amplitud.</p>
<p>Es an谩logo a las componentes sinusoidales (harmonicos) de una FFT.</p>
<ul>
<li><strong>scale/frequency:</strong> base octave size</li>
<li><strong>amplitude:</strong> how deep the noise differences can be</li>
<li><strong>octaves/detail:</strong>  How many 'harmonics' are we adding</li>
<li><strong>lacunarity:</strong> this is the step between 'harmonics' (analog to principal frequency)</li>
<li><strong>Persistence/roughness:</strong> Factor of amplitude for succesive 'harmonics'. Good value is the inverse of the lacunarity.</li>
</ul>
<h2 id="domain-warp">Domain Warp</h2>
<p>Es una t茅cnica que consiste en usar una funci贸n textura (pe. de ruido)
como coordenadas de entrada de otra.</p>
<p>El resultado es una deformaci贸n continua de un patr贸n aleatorio tambi茅n continuo y aleatorio.</p>
<p>Este patron por ejemplo se da en el marmol,
cuando una mezcla inicialmente ya aleatoria se deforma de forma aleatoria con el tiempo
dando como resultado un patron de filamentos.</p>
<p>Tambien se puede usar para fluidos mezclados o fluidos reflejando patrones aleatorios.</p>
<p>Podemos encadenar varias capas para hacer la textura mas compleja.</p>
<p>Implementaci贸n:
- Si la funcion de ruido que tenemos es escalar,
  generar dos fbm's, una para cada coordenada de uv.
  Para que sean diferentes aplicar dos offsets vectoriales diferentes a cada fbm.
- Para la segunda capa,
  a parte de offsets vectoriales constantes
- En la primera capa podemos generar las segundas uvs,
    tomado las primeras para calcular 
- En la segunda capa, tambien partimos de la uv original
    sumando un offset vectorial diferente
    y a帽adiendo el resultado de la capa anterior
    multiplicado por un escalar. </p>
<p>Code:</p>
<div class="highlight"><pre><span></span><code>l1u = fbm(uv + l1offsetu)
l1v = fbm(uv + l1offsetv)
l1 = fbm(vec2(l1u, l2v)) // This whould be the level1 warp
l2u = fbm(uv + 4.0*l1u + l2offsetu)
l2v = fbm(uv + 4.0*l1v + l2offsetv)
l2 = fbm(vec2(l2u, l2v) // this would be a level 2 warp
</code></pre></div>
<h2 id="central-diferences-method">Central  diferences method</h2>
<p>General normales de una textura de ruido considerando el ruido como un height map.</p>
<ul>
<li>Se obtienen valor para la funcion de ruido en los cuatro puntos cardinales</li>
<li>Se obtiene la diferencia en u y en v</li>
<li>Se infiere la w por pitagoras $ w^2 = u^2 +  $</li>
<li>
<p>Se normaliza</p>
<p>1 = u2/m2 + v2/m2 + w2/m2
w2 = m2 - u2 - v2</p>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../../javascripts/katex.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>