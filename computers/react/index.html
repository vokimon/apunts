
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Apunts i notes de coses que aprenc">
      
      
        <meta name="author" content="vokimon">
      
      
        <link rel="canonical" href="https://vokimon.github.io/apunts/computers/react/">
      
      
        <link rel="prev" href="../react-formik/">
      
      
        <link rel="next" href="../godot/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.6">
    
    
      
        <title>React / Redux - Apunts</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.35e1ed30.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../css/figure.css">
    
      <link rel="stylesheet" href="../../css/linkcard.css">
    
      <link rel="stylesheet" href="../../css/videowrapper.css">
    
      <link rel="stylesheet" href="../../None">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#react-redux" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Apunts" class="md-header__button md-logo" aria-label="Apunts" data-md-component="logo">
      
  <img src="../../img/logo-customblocks-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Apunts
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              React / Redux
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_3" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_3">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/vokimon/apunts" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Apunts" class="md-nav__button md-logo" aria-label="Apunts" data-md-component="logo">
      
  <img src="../../img/logo-customblocks-white.svg" alt="logo">

    </a>
    Apunts
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/vokimon/apunts" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    README
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Computers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Computers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    css
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            css
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../css/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../css-animations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSS: Animaciones
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../css-boxmodel/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSS: El modelo de caja
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../css-normalflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSS Normal Flow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../css-flexbox/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSS Flexbox
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../css-grid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSS Grid
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../css-typography/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSS Typografy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../css-methodologies-architectures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSS: Metodologías y arquitecturas
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    javascript
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            javascript
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../jsecosystem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jsecosystem
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../jsonschema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jsonschema
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../react-formik/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React formik
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    React / Redux
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    React / Redux
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#react" class="md-nav__link">
    React
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
    <nav class="md-nav" aria-label="Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-vars" class="md-nav__link">
    Environment vars
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rendering-jsx" class="md-nav__link">
    Rendering (JSX)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#embeding-javascript-into-jsx" class="md-nav__link">
    Embeding javascript into JSX
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#receiving-attributes" class="md-nav__link">
    Receiving attributes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#receiving-and-providing-children" class="md-nav__link">
    Receiving and providing children
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#declarative-conditionals-and-loops" class="md-nav__link">
    Declarative conditionals and loops
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hooks" class="md-nav__link">
    Hooks
  </a>
  
    <nav class="md-nav" aria-label="Hooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usestate" class="md-nav__link">
    useState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#useeffect" class="md-nav__link">
    useEffect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usecontext" class="md-nav__link">
    useContext
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usememo" class="md-nav__link">
    useMemo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usecallback" class="md-nav__link">
    useCallback
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#useref" class="md-nav__link">
    useRef
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utility-components" class="md-nav__link">
    Utility components
  </a>
  
    <nav class="md-nav" aria-label="Utility components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lazy" class="md-nav__link">
    lazy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#suspense" class="md-nav__link">
    Suspense
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redux" class="md-nav__link">
    Redux
  </a>
  
    <nav class="md-nav" aria-label="Redux">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flujo-de-aplicacion" class="md-nav__link">
    Flujo de aplicación
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integracion-en-react" class="md-nav__link">
    Integracion en React
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slices" class="md-nav__link">
    Slices
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estilos" class="md-nav__link">
    Estilos
  </a>
  
    <nav class="md-nav" aria-label="Estilos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#plain-css-files" class="md-nav__link">
    Plain CSS files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estilos-en-linea" class="md-nav__link">
    Estilos en linea
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#css-modules" class="md-nav__link">
    CSS Modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#normalizacion-de-estilos" class="md-nav__link">
    Normalización de estilos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#styled-components" class="md-nav__link">
    Styled-components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linara" class="md-nav__link">
    Linara
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emotion" class="md-nav__link">
    Emotion
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jss" class="md-nav__link">
    JSS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../godot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../computer-graphics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Computer graphics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../fastapi/fastapi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FastAPI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../android-glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Android glossary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cpp11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    New features of C++11 I should be starting to use:
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../deeplearning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deep learning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../godot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Godot 4 (Game Engine)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ip6" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IPv6
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../specs-pdf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Specs pdf
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../timewarrior/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TimeWarrior
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../xpxplained/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    XP Explained (Extracto del libro)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../branching-patterns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Branching Patterns
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security problems
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Math
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Math
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../math/mates-fundation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Math Foundations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../math/stats/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Statistics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../math/math-halfderivatives/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Half Derivatives
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../math/math-quadraticformula-alternative/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quadratic Formula
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../math/math-wavelets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wavelets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../math/math-3n1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collatz Conjecture
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../math/math-binary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Binary math
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../math/math-geometric-algebra/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Geometric Algebra
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Music
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Music
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../music/music-harmony/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Harmony: Notes, Scales and Chords 🎶
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../music/music-harmony-scales/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Harmony: Scales 🎶
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../music/guitar-technics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Técnica de Guitarra 🎸
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../music/guitar-fret-navigation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Navegación en el mástil
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../music/pentatonicas.txt" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pentatonicas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../music/songs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Songs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../music/ukelele/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ukelele
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../music/drums/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Drum line composition (for non drummers)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../music/online-resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Online resources
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Languages
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Languages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lang/consonantes-afi.png" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Phonetics Consonants
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lang/vowels.jpg" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Phonetics Vowels
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lang/arabic-alphabet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arabic script
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lang/arabic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arabic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lang/deutsch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deutsch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lang/english-expresions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    English expresions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lang/english-old-pronoums/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    English old pronoums
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lang/english-prepositions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    English prepositions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lang/english-tenses/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    English tenses
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lang/vocabulary-somenergia/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    English Vocabulary for SE enterviews
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lang/vocabulary-edibles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vocabulary edibles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lang/ruso-alphabet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ruso alphabet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lang/spanish/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spanish
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../lang/stylistic-figures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Retorical figures
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    History
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            History
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../history/cristianismo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    História del cristianismo
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../economics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Economics
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    3D
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            3D
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../3d/3d-production-pipeline/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3D animation pipeline
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../3d/blender-materials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blender material
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Laboral
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Laboral
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../laboral/comunicacio_de_crisi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comunicacio de crisi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../laboral/lideratges-autogestionat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Eines de gestió
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../laboral/reunionseficients/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reunions eficients
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#react" class="md-nav__link">
    React
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    Setup
  </a>
  
    <nav class="md-nav" aria-label="Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-vars" class="md-nav__link">
    Environment vars
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rendering-jsx" class="md-nav__link">
    Rendering (JSX)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#embeding-javascript-into-jsx" class="md-nav__link">
    Embeding javascript into JSX
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#receiving-attributes" class="md-nav__link">
    Receiving attributes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#receiving-and-providing-children" class="md-nav__link">
    Receiving and providing children
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#declarative-conditionals-and-loops" class="md-nav__link">
    Declarative conditionals and loops
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hooks" class="md-nav__link">
    Hooks
  </a>
  
    <nav class="md-nav" aria-label="Hooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usestate" class="md-nav__link">
    useState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#useeffect" class="md-nav__link">
    useEffect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usecontext" class="md-nav__link">
    useContext
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usememo" class="md-nav__link">
    useMemo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usecallback" class="md-nav__link">
    useCallback
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#useref" class="md-nav__link">
    useRef
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utility-components" class="md-nav__link">
    Utility components
  </a>
  
    <nav class="md-nav" aria-label="Utility components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lazy" class="md-nav__link">
    lazy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#suspense" class="md-nav__link">
    Suspense
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redux" class="md-nav__link">
    Redux
  </a>
  
    <nav class="md-nav" aria-label="Redux">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flujo-de-aplicacion" class="md-nav__link">
    Flujo de aplicación
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integracion-en-react" class="md-nav__link">
    Integracion en React
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slices" class="md-nav__link">
    Slices
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estilos" class="md-nav__link">
    Estilos
  </a>
  
    <nav class="md-nav" aria-label="Estilos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#plain-css-files" class="md-nav__link">
    Plain CSS files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#estilos-en-linea" class="md-nav__link">
    Estilos en linea
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#css-modules" class="md-nav__link">
    CSS Modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#normalizacion-de-estilos" class="md-nav__link">
    Normalización de estilos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#styled-components" class="md-nav__link">
    Styled-components
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linara" class="md-nav__link">
    Linara
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emotion" class="md-nav__link">
    Emotion
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jss" class="md-nav__link">
    JSS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="react-redux">React / Redux</h1>
<h2 id="react">React</h2>
<p><a href="https://reactjs.org/">React</a> is a web ui framework created by Facebook.</p>
<ul>
<li><strong>Component based:</strong> Build application by defining and combining autocontained graphical components.</li>
<li><strong>Declarative:</strong> You say what to show up each time, bassed on the current state, and the library updates the changed elements into the DOM.<ul>
<li><strong>Virtual DOM:</strong> To achieve that, it generates a virtual DOM structure and compares to the previous one, it is cheaper that recreating or comparing the DOM all the time</li>
</ul>
</li>
<li><strong>Widely adopted:</strong> This means that a lot of libraries, tools and documentation is available</li>
</ul>
<p>https://dev.to/hb/react-vs-vue-vs-angular-vs-svelte-1fdm</p>
<p>What it is not:</p>
<ul>
<li>A widget library/css framework: there is a lot of libraries that adapts widget (bootstrap, material ui...) as react components.</li>
<li>A router: to map urls to pages, you can use <code>react-router</code></li>
<li>A state keeper: you can use libraries like <code>react-redux</code> for that</li>
</ul>
<h2 id="setup">Setup</h2>
<p>To generates a full project from scratch:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>$<span class="w"> </span>npx<span class="w"> </span>create-react-app<span class="w"> </span>myapp
</code></pre></div>
<p>It applies a lot of best practices and hides a lot of setup under <code>react-scripts</code> command.
How to modify this setup is documented <a href="https://create-react-app.dev/docs/">here</a></p>
<p>It hides tools like dotenv, webpack, babel... you will use.
Applications that with good defaults, like the ones provided by <code>react-scripts</code>,
you may not need to modify.</p>
<p>But sometimes you need to go beyond this configuration.
You can use <code>npm run eject</code> to expose the hidden configuration files, so that you can modify them.
This is a non reversible step and you will not get improvements in future versions of <code>react-scripts</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>my-app/
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>  README.md
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>  node_modules/      # Installed dependencies
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>  package.json       # Project metadata (dependencies, settings...)
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>  public/         # Files copied without webpack processing
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    index.html       # unique html file, just loads index.js, you can use some templating here
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>    favicon.ico      # application icon
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>  src/            # Contains files processed by webpack
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    App.css          # App component example - style
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    App.js           # App component example - code
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>    App.test.js      # App component example - tests
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>    index.css        # global style
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>    index.js         # main js entry point
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>    logo.svg         # example resource
</code></pre></div>
<h3 id="environment-vars">Environment vars</h3>
<ul>
<li>A file .env contains shell variables you can use in code and templates.</li>
<li>They are loaded in compile time and can be used in run time.</li>
<li>A <a href="">method</a> exists to load some of them in runtile</li>
</ul>
<p>Access it:</p>
<ul>
<li><code>window.env</code></li>
<li><code>process.env</code></li>
<li><code>dotenv.env</code> # dotenv is the </li>
<li>Inside index.html like in <code>&lt;link rel="icon" href="%PUBLIC_URL%/favicon.ico" /&gt;</code></li>
</ul>
<p>Variables are filtered.</p>
<ul>
<li>Any custom variable starting with <code>REACT_APP_</code></li>
<li><code>NODE_ENV</code>: either production, development or test</li>
<li><code>PUBLIC_URL</code>: url where the assets will be visible</li>
<li>... ??</li>
<li><code>REACT_APP_*</code>: Any custom add should have this prefix</li>
</ul>
<p>Each command looks for a given</p>
<ul>
<li>npm start: .env.development.local, .env.local, .env.development, .env</li>
<li>npm run build: .env.production.local, .env.local, .env.production, .env</li>
<li>npm test: .env.test.local, .env.test, .env (note .env.local is missing)</li>
</ul>
<h2 id="rendering-jsx">Rendering (JSX)</h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">MyComponent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="w"> </span><span class="nx">world</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="p">}</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="kd">const</span><span class="w"> </span><span class="nx">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">createRoot</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">));</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="nx">root</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">MyComponent</span><span class="o">/&gt;</span><span class="p">);</span>
</code></pre></div>
<ul>
<li>JSX parsing starts is when a starting <code>&lt;</code> is found until the element is closed.</li>
<li>That parsing returns an object representing a React element.</li>
<li>Because of the parsing, a single root element is required</li>
<li>If you want a fragment with more than one element, you have to enclose them inside inside a void element <code>&lt;&gt;whatever</code>.</li>
<li>If the html goes for several lines it is nice to wrap the jsx expresion by parenthesis, not required though</li>
</ul>
<p>Some naming conventions:</p>
<ul>
<li>Standard tag elements are always lower case <code>div</code></li>
<li>Use uper camell case for components <code>MyComponent</code></li>
<li>Use lower  camell case for attributes<ul>
<li><code>tabindex</code> -&gt; <code>tabIndex</code></li>
<li><code>onclick</code> -&gt; <code>onClick</code></li>
</ul>
</li>
<li>Some javascript reserved words, had to be renamed<ul>
<li><code>class</code> -&gt; <code>className</code></li>
</ul>
</li>
</ul>
<h2 id="embeding-javascript-into-jsx">Embeding javascript into JSX</h2>
<ul>
<li>Inside JSX you can openup curly braces to insert javascript values.</li>
<li>The result of curly braces expresion is inserted safely (escaped) into html.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">MyComponent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="w"> </span><span class="nx">world</span><span class="w"> </span><span class="p">{</span><span class="mf">234</span><span class="o">+</span><span class="mf">1000</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/div&gt; /</span><span class="o">/</span><span class="w"> </span><span class="nx">Resolves</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="mf">1234</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="p">}</span>
</code></pre></div>
<ul>
<li>Inner javascript could contain JSX as well, so they can be alternatively nested JS -&gt; JSX -&gt; JS -&gt; JSX....</li>
<li>For attribute values quotes are appended as necessary</li>
<li>Inside the tag, dicts <code>{...mydict}</code> are expanded as attributes</li>
<li>Attribute values can be full JS objects</li>
<li>For callback attributes <code>onX</code>, the expresion to insert is the callback, not its call as you would do in vanilla javascript<ul>
<li><code>onClick={handleClick}</code> not <code>onClick={handleClick()}</code></li>
</ul>
</li>
</ul>
<h2 id="receiving-attributes">Receiving attributes</h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">MyComponent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="nx">props</span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="c1">// alternatively props.name</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="p">{</span><span class="nx">name</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">props</span><span class="w">  </span><span class="c1">// aqui el recollim</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="w"> </span><span class="p">{</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="p">}</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="kd">const</span><span class="w"> </span><span class="nx">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">createRoot</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">));</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="nx">root</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">MyComponent</span><span class="w"> </span><span class="nx">name</span><span class="o">=</span><span class="s2">&quot;Perico&quot;</span><span class="o">/&gt;</span><span class="p">);</span><span class="w"> </span><span class="c1">// Aquí donem el valor</span>
</code></pre></div>
<h2 id="receiving-and-providing-children">Receiving and providing children</h2>
<p>Children are received by the component as <code>props.children</code></p>
<ul>
<li>children:<ul>
<li>null, booleans (also true), undefined -&gt; do not render</li>
<li>string literalls</li>
<li>other jsx</li>
<li>a function (useful to avoid execution on declaration)</li>
<li>a javascript expresion between curly braces</li>
<li>an array of all the above</li>
<li>a combination of all the above</li>
</ul>
</li>
</ul>
<h2 id="declarative-conditionals-and-loops">Declarative conditionals and loops</h2>
<p>For single branch conditionals use <code>&amp;&amp;</code> and <code>||</code> operators.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kd">function</span><span class="w"> </span><span class="nx">Garage</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">cars</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">props</span><span class="p">.</span><span class="nx">cars</span><span class="p">;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="o">&lt;&gt;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Garage</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">      </span><span class="p">{</span><span class="nx">cars</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mf">0</span><span class="w"> </span><span class="o">||</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">         </span><span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">You</span><span class="w"> </span><span class="nx">have</span><span class="w"> </span><span class="nx">no</span><span class="w"> </span><span class="nx">cars</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">your</span><span class="w"> </span><span class="nx">garage</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/h2&gt;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">      </span><span class="p">{</span><span class="nx">cars</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mf">0</span><span class="w"> </span><span class="o">&amp;&amp;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">You</span><span class="w"> </span><span class="nx">have</span><span class="w"> </span><span class="p">{</span><span class="nx">cars</span><span class="p">.</span><span class="nx">length</span><span class="p">}</span><span class="w"> </span><span class="nx">cars</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">your</span><span class="w"> </span><span class="nx">garage</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/h2&gt;</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/&gt;</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">  </span><span class="p">);</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="p">}</span>
</code></pre></div>
<p>Caution: falsy values like <code>cars.length</code> is not a bool, evaluates to 0 that is rendered '0'.</p>
<p>In order to render undefined, null, true or false, <code>{String(value)}</code></p>
<p>For two branches conditionals use <code>?:</code> triplets</p>
<p>For loops use <code>map</code> and other Array funtional looping.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kd">function</span><span class="w"> </span><span class="nx">Garage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">cars</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;Ford&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;BMW&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Audi&#39;</span><span class="p">];</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">    </span><span class="o">&lt;&gt;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Who</span><span class="w"> </span><span class="nx">lives</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">my</span><span class="w"> </span><span class="nx">garage</span><span class="o">?&lt;</span><span class="err">/h1&gt;</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">        </span><span class="p">{</span><span class="nx">cars</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">car</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">Car</span><span class="w"> </span><span class="nx">brand</span><span class="o">=</span><span class="p">{</span><span class="nx">car</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span><span class="p">)}</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">      </span><span class="o">&lt;</span><span class="err">/ul&gt;</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/&gt;</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">  </span><span class="p">);</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="p">}</span>
</code></pre></div>
<h2 id="hooks">Hooks</h2>
<p>Els hooks son funcions que es criden dintre del callback de render del component.
Per convenció comencen per <code>use</code>, per exemple, <code>useState</code>, <code>useEffect</code>...</p>
<p>Podem cridar un callback més d'una vegada a un component.
Es diferencien entre elles per l'ordre de crida.</p>
<p>COMPTE: La conseqüència és que si la seva execució depén d'ifs, la liariem parda.</p>
<p>Per això, és bon costum posar-los a dalt de la funció abans de cap lògica.</p>
<h3 id="usestate"><code>useState</code></h3>
<ul>
<li>Gestiona valors propis de la instància del component, que es mantenen entre execucions del render.</li>
<li>Canvis als valors provocaran una crida asincrona al render</li>
<li>Retornen un valor (no un getter, sino una copia del valor), i un setter:</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="nx">myValue</span><span class="p">,</span><span class="w"> </span><span class="nx">setMyValue</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="nx">initialValue</span><span class="p">)</span>
</code></pre></div>
<ul>
<li><code>initialValue</code> és el valor inicial de l'estat</li>
<li><code>myValue</code> variable receives the current value of the state</li>
<li><code>setMyValue(value)</code> és el setter</li>
</ul>
<p>Internament el que identifica l'atribut no son els noms dels setters/getters sinó l'ordre en que es criden.
Pel que deiem abans que l'ordre determina la </p>
<p><strong>Comportament error prone:</strong> El valor de l'estat <code>myValue</code>, es una copia del valor en el moment de cridar a <code>useState</code>.
Aixó té dues conseqüències:</p>
<ul>
<li>El valor <code>myValue</code> queda desactualitzat després de fer un <code>setMyValue</code>.</li>
<li>Si un callback definit dintre de la funcio de render, s'executa després del renderitzat fent servir <code>myValue</code> és possible que tingui un valor antic.a</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="nx">myValue</span><span class="p">,</span><span class="w"> </span><span class="nx">setMyValue</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="nx">setMyValue</span><span class="p">(</span><span class="nx">myValue</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="c1">// al primer render estat es 1</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="nx">setMyValue</span><span class="p">(</span><span class="nx">myValue</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="c1">// al primer render, l&#39;estat es encara es 1 perque myValue no ha deixat de valdre 0</span>
</code></pre></div>
<p>Una forma d'obtindre el darrer valor actualitzat és cridar el <code>setMyValue</code> amb un callback en comptes d'un nou valor.
El callback rebrà com a valor el valor actualitzat de l'estat i el retorn sera el valor.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kd">const</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="nx">myValue</span><span class="p">,</span><span class="w"> </span><span class="nx">setMyValue</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">(</span><span class="mf">0</span><span class="p">)</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="nx">setMyValue</span><span class="p">((</span><span class="nx">oldvalue</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">oldvalue</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="c1">// estat es 1</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="nx">setMyValue</span><span class="p">((</span><span class="nx">oldvalue</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">oldvalue</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="c1">// estat es 2</span>
</code></pre></div>
<h3 id="useeffect"><code>useEffect</code></h3>
<p>Serveix per executar callbacks en diferents moments del cicle de vida del component.</p>
<p>Executa callbacks després de fer el render quan ja tenim el DOM creat/actualitzat.</p>
<p>El segon paràmetre determina quan s'executa:</p>
<ul>
<li>Si no existeix, s'executa a cada render incondicionalment (inicialment i quan canvia l'estat)</li>
<li>Si és un array de valors, s'executa cada vegada que els valors son diferents</li>
<li>Si és un array buit, s'executa només a l'inici (l'array sempre serà el mateix les successives vegadess)</li>
</ul>
<p>El callback pot retornar un altre callback que s'executarà abans de desmuntar el component.
Es pot fer servir per fer un clean up del que fa l'efecte o del component mateix.</p>
<p><strong>Error típic:</strong> Si no posem  </p>
<div class="admonition note típic: Fer-ho servir per calcular valors depenents d'altres.">
<p class="admonition-title">Error</p>
</div>
<p>Els valors depenents els podem calcular al cos del render.
Fer-ho amb el <code>useEffect</code> generaria un render extra.
Si és un càlcul costós que volem evitar calcular cada render, podem fer servir <code>useMemo</code>.</p>
<h3 id="usecontext"><code>useContext</code></h3>
<p>Serveix per compartir un estat comú en un seguit de components fills d'un mateix pare, el provider.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">MyContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">React</span><span class="p">.</span><span class="nx">createContext</span><span class="p">(</span><span class="nx">initialValue</span><span class="p">);</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="kd">function</span><span class="w"> </span><span class="nx">App</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">MyContext</span><span class="p">.</span><span class="nx">Provider</span><span class="w"> </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">currentValue</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">Toolbar</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/MyContext.Provider&gt;</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">  </span><span class="p">);</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="p">}</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="kd">function</span><span class="w"> </span><span class="nx">Toolbar</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">      </span><span class="o">&lt;</span><span class="nx">ThemedButton</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="w">  </span><span class="p">);</span>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="p">}</span>
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="kd">function</span><span class="w"> </span><span class="nx">ThemedButton</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">mycontext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useContext</span><span class="p">(</span><span class="nx">MyContext</span><span class="p">);</span>
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">button</span><span class="w"> </span><span class="nx">style</span><span class="o">=</span><span class="p">{{</span><span class="w"> </span><span class="nx">background</span><span class="o">:</span><span class="w"> </span><span class="nx">mycontext</span><span class="p">.</span><span class="nx">background</span><span class="p">,</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="nx">mycontext</span><span class="p">.</span><span class="nx">foreground</span><span class="w"> </span><span class="p">}}</span><span class="o">&gt;</span>
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="w">      </span><span class="nx">I</span><span class="w"> </span><span class="nx">am</span><span class="w"> </span><span class="nx">styled</span><span class="w"> </span><span class="nx">by</span><span class="w"> </span><span class="nx">theme</span><span class="w"> </span><span class="nx">context</span><span class="o">!</span>
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a><span class="w">  </span><span class="p">);</span>
<a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a><span class="p">}</span>
</code></pre></div>
<p>Los componentes que usan <code>useContext</code> se renderizaran siempre que el contexto cambie.</p>
<h2 id="usememo"><code>useMemo</code></h2>
<p>Caches the result of the function, calling it only when one of the dependencies changes.</p>
<p>const value = useMemo(() =&gt; {
  return valueHardTocompue()
}, [deps])</p>
<p>It is called on render time (not like useEffect which is called after mounting)</p>
<h2 id="usecallback"><code>useCallback</code></h2>
<p>As the render function is called every time,
any inner function defined inside is, by reference,
a different function each time render is called.
Even if the function has the same implementation each time,
the references will be different.</p>
<p>Any dependency on such a function will trigger each render.</p>
<p>Also, when an inner function accesses variables from the scope where it is defined,
what it is call a closure,
former call version might not be the same behaviour than the current one.</p>
<p>Both cases creates problems when passing such callbacks to the child components as attributes.
Child component should react to the callback changing the scope variables,
but not triggering changes every render.</p>
<p><code>useCallback(callback, dependencies)</code> is a wrapper that allows caching the reference
to the first version of the inner function, providing an stable dependency.
At the same time, the dependency list, allows to update the reference,
whenever any  closure variable changes.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">Parent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="nx">c</span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">parent</span><span class="p">;</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">  </span><span class="nx">adder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useCallback</span><span class="p">((</span><span class="nx">a</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">a</span><span class="o">+</span><span class="nx">c</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="nx">c</span><span class="p">])</span><span class="w"> </span><span class="c1">// Recomputes just when c changes</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">MyChild</span><span class="w"> </span><span class="nx">onAdd</span><span class="o">=</span><span class="p">{</span><span class="nx">adder</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="kd">const</span><span class="w"> </span><span class="nx">MyChild</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">({</span><span class="nx">onAdd</span><span class="p">}}</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">  </span><span class="p">[</span><span class="nx">value</span><span class="p">,</span><span class="w"> </span><span class="nx">setValue</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useState</span><span class="p">()</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="w">  </span><span class="nx">useEffect</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="w">    </span><span class="nx">setValue</span><span class="p">(</span><span class="nx">onAdd</span><span class="p">(</span><span class="mf">4</span><span class="p">))</span>
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="p">[</span><span class="nx">onAdd</span><span class="p">])</span>
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="nx">value</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="p">}</span>
</code></pre></div>
<h2 id="useref"><code>useRef</code></h2>
<p><code>useRef</code> keeps some state between renderings without 
causing updates if it is modified.</p>
<p>It encapsulates the value inside an object.</p>
<p>const counter = useRef(0);
useEffect(() =&gt; {
  counter.current = counter.current + 1;
})</p>
<h2 id="utility-components">Utility components</h2>
<h3 id="lazy">lazy</h3>
<p>It is used to avoid to load all components, when some of them
are not used in all cases.</p>
<p>the lazy function wraps another function that will be called on execution.</p>
<h3 id="suspense"><code>Suspense</code></h3>
<h2 id="redux">Redux</h2>
<p>Funcion: implementa la gestion del estado de la aplicación.</p>
<p>Ese estado se podria implementar con objetos de dominio (aplicacion), unittesting...
Pero el hecho de usar una implementación genérica, tiene ciertas ventajas:</p>
<ul>
<li>nos obliga a ser cuidadosos de donde y como se modifica el estado</li>
<li>podemos usar herramientas de desarrollo que ofrecen:<ul>
<li>Monitorear el estado de la aplicacion</li>
<li>Ver el historico de eventos que ha llevado a ese punto</li>
<li>Deshacer acciones (Undo pattern)</li>
</ul>
</li>
</ul>
<p>Tambien ciertas desventajas (de la web de Redux):</p>
<ul>
<li>Obliga a hacer las cosas de cierta manera</li>
<li>Añade una indirección en el código</li>
<li>Hay que entender nuevos conceptos</li>
</ul>
<p>El estado se representa como un diccionario.
Solo una funcion llamada <em>reducer</em> modifica dicho estado.</p>
<p>Un <em>reducer</em> es una funcion que implementa una maquina de estados.
Recibe un diccionario con el estado actual, <code>state</code>, y otro con el evento, <code>action</code>.
Retorna un diccionario con el nuevo estado.
Se define el estado inicial mediante el valor por defecto del estado de entrada.</p>
<p><code>(state = initialState, action) =&gt; newState</code></p>
<p>Por convencion, el action tiene atributos:</p>
<ul>
<li>type: string con el tipo</li>
<li>payload: datos del evento</li>
</ul>
<p>Un ejemplo de definición de reducer:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">initialState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">  </span><span class="c1">// initial values for all attributes</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">  </span><span class="nx">myattribute</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1000</span><span class="p">,</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="p">}</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="kd">function</span><span class="w"> </span><span class="nx">myReducer</span><span class="p">(</span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">initialState</span><span class="p">,</span><span class="w"> </span><span class="nx">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="nx">type</span><span class="p">,</span><span class="w"> </span><span class="nx">payload</span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">action</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w">  </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="nx">type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s1">&#39;myevent&#39;</span><span class="o">:</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="w">        </span><span class="p">...</span><span class="nx">state</span><span class="p">,</span><span class="w"> </span><span class="c1">// take the original state, by copy, and update</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="w">        </span><span class="nx">myattribute</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">payload</span><span class="p">.</span><span class="nx">myparameter</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">payload</span><span class="p">.</span><span class="nx">otherparameter</span><span class="p">,</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="w">    </span><span class="p">(...)</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="w">    </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="c1">// not interested in that event</span>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">state</span><span class="w"> </span><span class="c1">// return same object</span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="w">   </span><span class="p">}</span>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="p">}</span>
</code></pre></div>
<p>La arquitectura de Redux está orientada a evitar
modificaciones del estado fuera del reducer.
Para evitarlo, el estado está controlado por el <code>store</code>.
Lo creamos así:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1">// Nota: la documentacion usa el toolkit, Oscar usaba la libreria a pelo</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">configureStore</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@reduxjs/toolkit&#39;</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="kd">const</span><span class="w"> </span><span class="nx">store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">configureStore</span><span class="p">({</span><span class="w"> </span><span class="nx">reducer</span><span class="o">:</span><span class="w"> </span><span class="nx">myReducer</span><span class="w"> </span><span class="p">})</span>
</code></pre></div>
<p>Podemos consultar el estado actual:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">store</span><span class="p">.</span><span class="nx">getState</span><span class="p">()</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">myattribute</span><span class="p">)</span>
</code></pre></div>
<p>El objeto retornado es una copia del estado interno.
Si lo modificamos no afecta al estado real.</p>
<p>Para hacer los cambios hay que emitir acciones (eventos) con el método <code>dispatch</code> del <code>store</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">({</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;counter/increment&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">payload</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="nx">quantity</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="p">}</span><span class="w"> </span><span class="p">})</span>
</code></pre></div>
<p>Para completar la jerga, hay dos tipos de functores que se usan comunmente.</p>
<p><em>Action creators</em>: Son funciones que retornan una accion a partir de los parametros.
A menudo, es más cómodo que hardcodear la estructura.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">addTodo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">text</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;todos/todoAdded&#39;</span><span class="p">,</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">    </span><span class="nx">payload</span><span class="o">:</span><span class="w"> </span><span class="nx">text</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="p">}</span>
</code></pre></div>
<p><em>Selectors</em>: Son funciones que mapean una parte del estado.
Són útiles para desacoplar de la estructura del estado</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">selectCounterValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">state</span><span class="p">,</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">counters</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">value</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="kd">const</span><span class="w"> </span><span class="nx">currentValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">selectCounterValue</span><span class="p">(</span><span class="nx">store</span><span class="p">.</span><span class="nx">getState</span><span class="p">(),</span><span class="w"> </span><span class="nx">i</span><span class="p">)</span>
</code></pre></div>
<h3 id="flujo-de-aplicacion">Flujo de aplicación</h3>
<p>En una aplicación Redux existen tres elementos:</p>
<ul>
<li>Storage</li>
<li>Interfaz</li>
<li>Gestor de eventos</li>
</ul>
<p>El flujo seria como sigue:</p>
<ul>
<li>El storage se inicializa con el diccionario inicial</li>
<li>El interfaz se inicializan con los valores del storage</li>
<li>Cuando se genera un evento en el interfaz el gestor de eventos puede acabar emitiendo una acción</li>
<li>El storage calcula el nuevo estado con esa acción</li>
<li>El storage notifica a los componentes que estan subscriptos a alguna parte del estado que haya sido modificada</li>
<li>Los componentes subscritos consultan el valor y se actualizan</li>
</ul>
<p>El flujo es circular pero solo va en un sentido.</p>
<h3 id="integracion-en-react">Integracion en React</h3>
<ul>
<li>Un elemento <code>Provider</code> hace accesible el estado a todos los hijos</li>
<li>El store se pasa como atributo del Provider</li>
<li>Los componentes que quieran acceder al estado, usan <code>useSelector</code><ul>
<li>El parametro es un functor que recibe el estado y retorna la fraccion que necesitamos.</li>
<li>Se usa para optimizar que componentes necesitan actualizacion, igual que el useEffect</li>
</ul>
</li>
<li>Los componentes que quieran modificar el estado, usan <code>useDispatch</code><ul>
<li>No acabo de entender porque no podemos usar el storage directamente (normas de React?)</li>
</ul>
</li>
</ul>
<p>Por arriba del componente de más alto nivel que use el estado añadir el atributo store:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Provider</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-redux&#39;</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">createRoot</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">))</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="nx">root</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">  </span><span class="o">&lt;</span><span class="nx">Provider</span><span class="w"> </span><span class="nx">store</span><span class="o">=</span><span class="p">{</span><span class="nx">store</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">App</span><span class="w"> </span><span class="o">/&gt;</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="w">  </span><span class="o">&lt;</span><span class="err">/Provider&gt;</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="p">)</span>
</code></pre></div>
<p>En los elementos que usen el estado:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useSelector</span><span class="p">,</span><span class="w"> </span><span class="nx">useDispatch</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-redux&#39;</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">MyComponent</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useSelector</span><span class="p">((</span><span class="nx">state</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">state</span><span class="p">.</span><span class="nx">myslice</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">dispatch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useDispatch</span><span class="p">()</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">    </span><span class="o">&lt;</span><span class="nx">control</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="w">      </span><span class="c1">// uso del estado</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="w">      </span><span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="w"> </span><span class="nx">value</span><span class="p">()</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="w">      </span><span class="c1">// modificacion del estado</span>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="w">      </span><span class="nx">onClick</span><span class="o">=</span><span class="p">{()=&gt;</span><span class="nx">dispatch</span><span class="p">({</span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;MYTYPE&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">payload</span><span class="o">:</span><span class="w"> </span><span class="p">{....}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">);</span>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="w">  </span><span class="p">)</span>
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="p">}</span>
</code></pre></div>
<h3 id="slices">Slices</h3>
<p>Los slices es una parte del toolkit que facilita separar
la logica de la maquina de estados por aspectos independientes
y por otro tener una definición más orientada a objetos, que un switch.</p>
<p>Cuando la aplicación crece hay mucho estado que gestionar
y dificil de mantener en una sola funcion reducer.</p>
<h2 id="estilos">Estilos</h2>
<h3 id="plain-css-files">Plain CSS files</h3>
<p>Al importar el fichero css, webpack lo incorpora como recurso.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="k">import</span><span class="w"> </span><span class="s2">&quot;MyComponent.css&quot;</span>
</code></pre></div>
<p>Convención: Usar el mismo nombre que el componente react que lo usa y dejarlo en la misma carpeta.</p>
<p>Problema: Aunque hagas un css por cada modulo,
es dificil evitar problemas de colision entre nombres de clases en diferentes componentes.</p>
<p>Se puede usar una clase encapsuladora que tenga el top-level del componente
y condicionar todos los estilos a esa clase.</p>
<h3 id="estilos-en-linea">Estilos en linea</h3>
<p>Se pueden insertar los estilos como atributos objetos/diccionarios como valor de <code>style</code> en el JSX.
Incluso podemos interpolar.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">style</span><span class="o">=</span><span class="p">{{</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">    </span><span class="nx">backgroundColor</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;red&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// notice the camell case instead of background-color. could be also quoted &#39;background-color&#39;</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">    </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;white&#39;</span><span class="p">;</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="p">}}</span><span class="o">&gt;</span>
</code></pre></div>
<p>Dentro del css podemos tambien interpolar JS.</p>
<p>Es mas ordenado si creamos los estilos fuera y los referenciamos en el JSX.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">MyComponentStyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">    </span><span class="nx">backgroundColor</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;red&#39;</span><span class="p">;</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;white&#39;</span><span class="p">;</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="p">}</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="p">...</span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="w">        </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="w"> </span><span class="nx">MyComponentStyle</span><span class="w"> </span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">    </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="w">    </span><span class="p">)</span>
</code></pre></div>
<p>Si hay muchos estilos el codigo generado puede ser muy verboso.</p>
<h3 id="css-modules">CSS Modules</h3>
<p>Genera nombres de clase generadas automaticamente para ser diferentes.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">styles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">import</span><span class="w"> </span><span class="s2">&quot;MyComponent.module.css&quot;</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="p">...</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="k">return</span><span class="w"> </span><span class="p">(</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">  </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">myclass</span><span class="p">}</span><span class="o">&gt;</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">  </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="nt">myclass</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="w">    </span><span class="k">background</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;red&#39;</span><span class="p">;</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;white&#39;</span><span class="p">;</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="p">}</span>
</code></pre></div>
<p>Todas las classes referenciadas en el css estan disponibles como atributos de <code>styles</code>.
Pero el valor es el identificador generado <code>MyComponent_MyComponent_hash</code> (fichero, clase original, hash)</p>
<p>Para usar classes comunes con otros modules
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>.myclass {
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>  composes: otherClass from &#39;./other.component.css&#39;;
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>  color: red;
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>}
</code></pre></div></p>
<h3 id="normalizacion-de-estilos">Normalización de estilos</h3>
<p>Restaurar los estilos a un common ground sea cual sea el navegador.
Arriba del index.css:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="p">@</span><span class="k">import-normalize</span><span class="p">;</span>
</code></pre></div>
<h3 id="styled-components">Styled-components</h3>
<p>Libreria externa </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>import styled from &#39;style-components&#39;
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>// standard html tags
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>export Button = styled.button`
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>  color: red;
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a>  background: ${myvar}`
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a>`
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>// react components
<a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a>export StyledLink = styled(Link)`
<a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a>  color: green;
<a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a>`
<a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a>// standard html tags
<a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a>export Button = styled.button`
<a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a>  color: red;
<a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a>  background: ${props=&gt;props.myattr};`
<a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a>`
</code></pre></div>
<p>Genera una hoja de estilo con clases basadas en hash.</p>
<p>Funcionalidades de Sass (nesting...)</p>
<h3 id="linara">Linara</h3>
<p><a href="https://linaria.dev/">Linara</a> (runtime optimized)</p>
<p>Permite generar componentes como los de styled-components con una sintaxis calcada, pero ademas añade otro idioma:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="kd">var</span><span class="w"> </span><span class="nx">myclass</span><span class="o">=</span><span class="nx">css</span><span class="sb">`</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="sb">  font-size: 10pt</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="sb">  &amp;:hover {</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="sb">     color: </span><span class="si">${</span><span class="nx">mycolor</span><span class="si">}</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="sb">  }</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="sb">`</span>
</code></pre></div>
<p>Esto permite usar classes con nombres generados.
Todo va a hojas de estilo, que es más rápido.
Los inserts los convierte en variables css que se modifican con javascript,
y eso va también mucho mas rápido que generar la hoja de estilo cada vez.
También permite reusar los estilos.</p>
<p>Cons: La integracion con webpack aun no esta integrada en react-scripts y hay que configurar loaders del webpack a mano.</p>
<h3 id="emotion">Emotion</h3>
<p>Integrable con @emotion/react</p>
<p>Tiene el tag css como el linara. Tambien tiene otros:</p>
<ul>
<li><code>css</code> genera un nombre de classe con los estilos del template (como el css de linara)</li>
<li><code>keyframes</code> genera nombres de animaciones con los keyframes del template</li>
<li><code>injectGlobal</code> simplemente genera css tal cual sin generar classes (de hecho hay que poner selectores)</li>
<li><code>cx</code> no es un tag, es una funcion que combina varias clases con preferencia de las ultimas.</li>
<li><code>styled.tag</code>/<code>styled(Component)</code> simula styled components</li>
</ul>
<h3 id="jss">JSS</h3>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.aecac24b.min.js"></script>
      
    
  </body>
</html>